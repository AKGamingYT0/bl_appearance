{
  "version": 3,
  "sources": ["../../src/client/utils/index.ts", "../../src/client/camera.ts", "../../src/data/head.ts", "../../src/data/face.ts", "../../src/data/drawables.ts", "../../src/data/props.ts", "../../src/client/appearance/getters.ts", "../../src/data/toggles.ts", "../../src/client/appearance/setters.ts", "../../src/client/handlers.ts", "../../src/client/menu.ts", "../../src/client/bridge/qb.ts", "../../src/client/bridge/esx.ts", "../../src/client/compat/illenium.ts", "../../src/client/init.ts"],
  "sourcesContent": ["export let ped = 0\r\n\r\nexport const updatePed = (pedHandle: number) => {\r\n    ped = pedHandle\r\n}\r\n\r\nexport const debugdata = (data: any) => {\r\n    console.log(JSON.stringify(data, (key, value) => {\r\n        if (typeof value === \"string\") {\r\n            return value.replace(/\\n/g, \"\\\\n\");\r\n        }\r\n        return value;\r\n    }, 2))\r\n}\r\n\r\nexport const sendNUIEvent = (action: string, data: any) => {\r\n    SendNUIMessage({\r\n        action: action,\r\n        data: data\r\n    });\r\n}\r\n\r\nexport const delay = (ms: number) => new Promise(res => setTimeout(res, ms));\r\n\r\nexport const requestModel = async (model: string | number): Promise<number> => {\r\n    let modelHash: number = typeof model === 'number' ? model : GetHashKey(model)\r\n\r\n    if (!IsModelValid(modelHash) && !IsModelInCdimage(modelHash)) {\r\n        // exports.bl_bridge.notify()({\r\n        //     title: 'Invalid model!',\r\n        //     type: 'error',\r\n        //     duration: 1000\r\n        // })\r\n\r\n        console.warn(`attempted to load invalid model '${model}'`);\r\n        return 0;\r\n    }\r\n\r\n    if (HasModelLoaded(modelHash)) return modelHash\r\n    \r\n    RequestModel(modelHash);\r\n\r\n    const waitForModelLoaded = (): Promise<void> => {\r\n        return new Promise(resolve => {\r\n            const interval = setInterval(() => {\r\n                if (HasModelLoaded(modelHash)) {\r\n                    clearInterval(interval);\r\n                    resolve();\r\n                }\r\n            }, 100);\r\n        });\r\n    };\r\n\r\n    await waitForModelLoaded();\r\n\r\n    return modelHash;\r\n};\r\n\r\n\r\n//callback\r\n//https://github.com/overextended/ox_lib/blob/master/package/client/resource/callback/index.ts\r\n\r\nconst resourceName = GetCurrentResourceName()\r\nconst eventTimers: Record<string, number> = {};\r\nconst activeEvents: Record<string, (...args: any[]) => void> = {};\r\n\r\nfunction eventTimer(eventName: string, delay: number | null) {\r\n    if (delay && delay > 0) {\r\n        const currentTime = GetGameTimer();\r\n\r\n        if ((eventTimers[eventName] || 0) > currentTime) return false;\r\n\r\n        eventTimers[eventName] = currentTime + delay;\r\n    }\r\n\r\n    return true;\r\n}\r\n\r\nonNet(`_bl_cb_${resourceName}`, (key: string, ...args: any) => {\r\n    const resolve = activeEvents[key];\r\n    return resolve && resolve(...args);\r\n});\r\n\r\nexport function triggerServerCallback<T = unknown>(\r\n    eventName: string, ...args: any\r\n): Promise<T> | void {\r\n    if (!eventTimer(eventName, 0)) {\r\n        return;\r\n    }\r\n\r\n    let key: string;\r\n\r\n    do {\r\n        key = `${eventName}:${Math.floor(Math.random() * (100000 + 1))}`;\r\n    } while (activeEvents[key]);\r\n    emitNet(`_bl_cb_${eventName}`, resourceName, key, ...args);\r\n\r\n    return new Promise<T>((resolve) => {\r\n        activeEvents[key] = resolve;\r\n    });\r\n};\r\n\r\nexport function onServerCallback(eventName, cb) {\r\n    onNet(`_bl_cb_${eventName}`, async (resource, key, ...args) => {\r\n        let response;\r\n        try {\r\n            response = await cb(...args);\r\n        }\r\n        catch (e) {\r\n            console.error(`an error occurred while handling callback event ${eventName}`);\r\n            console.log(`^3${e.stack}^0`);\r\n        }\r\n        emitNet(`_bl_cb_${resource}`, key, response);\r\n    });\r\n}\r\n\r\n//locale\r\n\r\nexport const requestLocale = (resourceSetName: string) => {\r\n    return new Promise((resolve) => {\r\n        const checkResourceFile = () => {\r\n            if (RequestResourceFileSet(resourceSetName)) {\r\n                const currentLan = exports.bl_appearance.config().locale\r\n                let localeFileContent = LoadResourceFile(resourceName, `locale/${currentLan}.json`);\r\n                if (!localeFileContent) {\r\n                    console.error(`${currentLan}.json not found in locale, please verify!, we used english for now!`)\r\n                    localeFileContent = LoadResourceFile(resourceName, `locale/en.json`)\r\n                }\r\n                resolve(localeFileContent);\r\n            } else {\r\n                setTimeout(checkResourceFile, 100);\r\n            }\r\n        }\r\n        checkResourceFile();\r\n    });\r\n}\r\n\r\nexport const locale = async (id: string, ...args: string[]) => {\r\n    const locale = await requestLocale('locale');\r\n    let argIndex = 0;\r\n\r\n    const result = locale[id].replace(/%s/g, (match: string) => argIndex < args.length ? args[argIndex] : match);\r\n    return result\r\n}\r\n\r\nexport const bl_bridge = exports.bl_bridge\r\n\r\nexport const getPlayerData = () => {\r\n    return bl_bridge.core().getPlayerData()\r\n}\r\n\r\nexport const getFrameworkID = () => {\r\n    const id = getPlayerData().cid\r\n    return id\r\n}\r\n\r\nexport const getPlayerGenderModel = () => {\r\n    const gender = getPlayerData().gender\r\n    return gender === 'male' ? 'mp_m_freemode_01' : 'mp_f_freemode_01'\r\n}\r\n\r\nexport function Delay(ms: number): Promise<void> {\r\n    return new Promise(resolve => setTimeout(resolve, ms));\r\n}\r\n\r\nexport function format(str: string): string {\r\n    if (!str.includes(\"'\")) return str;\r\n    return str.replace(/'/g, \"\");\r\n}\r\n\r\nexport function getJobInfo(): { name: string, isBoss: boolean } | null {\r\n    const job = getPlayerData().job\r\n    return job ? { name: job.name, isBoss: job.isBoss } : null\r\n}\r\n\r\nexport function isPedFreemodeModel(ped: number) {\r\n    const model = GetEntityModel(ped)\r\n    return model === GetHashKey(\"mp_m_freemode_01\") || model === GetHashKey(\"mp_f_freemode_01\")\r\n}   ", "import { Camera, Vector3, TCameraBones } from '@typings/camera';\r\nimport { delay, ped } from '@utils';\r\nimport { Receive } from '@events';\r\n\r\nconst WHOLE_BODY_MAX_DISTANCE = 2.0;\r\nconst DEFAULT_MAX_DISTANCE = 1.0;\r\n\r\nlet running: boolean = false;\r\nlet camDistance: number = 1.8;\r\nlet cam: Camera | null = null;\r\nlet angleY: number = 0.0;\r\nlet angleZ: number = 0.0;\r\nlet targetCoords: Vector3 | null = null;\r\nlet oldCam: Camera | null = null;\r\nlet changingCam: boolean = false;\r\nlet lastX: number = 0;\r\nlet currentBone: keyof TCameraBones = 'head';\r\n\r\nconst CameraBones: TCameraBones = {\r\n    whole: 0,\r\n\thead: 31086,\r\n\ttorso: 24818,\r\n\tlegs: [16335, 46078],\r\n    shoes: [14201, 52301],\r\n};\r\n\r\nconst cos = (degrees: number): number => {\r\n\treturn Math.cos((degrees * Math.PI) / 180);\r\n};\r\n\r\nconst sin = (degrees: number): number => {\r\n\treturn Math.sin((degrees * Math.PI) / 180);\r\n};\r\n\r\nconst getAngles = (): number[] => {\r\n\tconst x =\r\n\t\t((cos(angleZ) * cos(angleY) + cos(angleY) * cos(angleZ)) / 2) *\r\n\t\tcamDistance;\r\n\tconst y =\r\n\t\t((sin(angleZ) * cos(angleY) + cos(angleY) * sin(angleZ)) / 2) *\r\n\t\tcamDistance;\r\n\tconst z = sin(angleY) * camDistance;\r\n\r\n\treturn [x, y, z];\r\n};\r\n\r\nconst setCamPosition = (mouseX?: number, mouseY?: number): void => {\r\n\tif (!running || !targetCoords || changingCam) return;\r\n\r\n\tmouseX = mouseX ?? 0.0;\r\n\tmouseY = mouseY ?? 0.0;\r\n\r\n\tangleZ -= mouseX;\r\n\tangleY += mouseY;\r\n\r\n    const isHeadOrWhole = currentBone === 'whole' || currentBone === 'head';\r\n    const maxAngle = isHeadOrWhole ? 89.0 : 70.0;\r\n    \r\n    const isShoes = currentBone === 'shoes';\r\n    const minAngle = isShoes ? 5.0 : -20.0;\r\n\r\n\tangleY = Math.min(Math.max(angleY, minAngle), maxAngle);\r\n\r\n\tconst [x, y, z] = getAngles();\r\n\r\n\tSetCamCoord(\r\n\t\tcam,\r\n\t\ttargetCoords.x + x,\r\n\t\ttargetCoords.y + y,\r\n\t\ttargetCoords.z + z\r\n\t);\r\n\tPointCamAtCoord(cam, targetCoords.x, targetCoords.y, targetCoords.z);\r\n};\r\n\r\nconst moveCamera = async (coords: Vector3, distance?: number) => {\r\n\tconst heading: number = GetEntityHeading(ped) + 94;\r\n\tdistance = distance ?? 1.0;\r\n\r\n\tchangingCam = true;\r\n\tcamDistance = distance;\r\n\tangleZ = heading;\r\n\r\n\tconst [x, y, z] = getAngles();\r\n\r\n\tconst newcam: Camera = CreateCamWithParams(\r\n\t\t'DEFAULT_SCRIPTED_CAMERA',\r\n\t\tcoords.x + x,\r\n\t\tcoords.y + y,\r\n\t\tcoords.z + z,\r\n\t\t0.0,\r\n\t\t0.0,\r\n\t\t0.0,\r\n\t\t70.0,\r\n\t\tfalse,\r\n\t\t0\r\n\t);\r\n\r\n\ttargetCoords = coords;\r\n\tchangingCam = false;\r\n\toldCam = cam;\r\n\tcam = newcam;\r\n\r\n\tPointCamAtCoord(newcam, coords.x, coords.y, coords.z);\r\n\tSetCamActiveWithInterp(newcam, oldCam, 250, 0, 0);\r\n\r\n\tawait delay(250);\r\n\r\n\tSetCamUseShallowDofMode(newcam, true);\r\n\tSetCamNearDof(newcam, 0.4);\r\n\tSetCamFarDof(newcam, 1.2);\r\n\tSetCamDofStrength(newcam, 0.3);\r\n\tuseHiDof(newcam);\r\n\r\n\tDestroyCam(oldCam, true);\r\n};\r\n\r\nconst useHiDof = (currentcam: Camera) => {\r\n\tif (!(DoesCamExist(cam) && currentcam == cam)) return;\r\n\tSetUseHiDof();\r\n\tsetTimeout(useHiDof, 0);\r\n};\r\n\r\nexport const startCamera = () => {\r\n\tif (running) return;\r\n\trunning = true;\r\n\tcamDistance = WHOLE_BODY_MAX_DISTANCE\r\n\tcam = CreateCam('DEFAULT_SCRIPTED_CAMERA', true);\r\n\tconst [x, y, z]: number[] = GetPedBoneCoords(ped, 31086, 0.0, 0.0, 0.0);\r\n\tSetCamCoord(cam, x, y, z);\r\n\tRenderScriptCams(true, true, 1000, true, true);\r\n\t// moveCamera({ x: x, y: y, z: z }, camDistance);\r\n    setCamera('whole', camDistance);\r\n};\r\n\r\nexport const stopCamera = (): void => {\r\n\tif (!running) return;\r\n\trunning = false;\r\n\r\n\tRenderScriptCams(false, true, 250, true, false);\r\n\tDestroyCam(cam, true);\r\n\tcam = null;\r\n\ttargetCoords = null;\r\n};\r\n\r\nconst setCamera = (type?: keyof TCameraBones, distance = camDistance): void => {\r\n\r\n\tconst bone: number | number[] | undefined = CameraBones[type];\r\n\r\n    const isBoneArray = Array.isArray(bone)\r\n\r\n    currentBone = type;\r\n\r\n    if (!isBoneArray && bone === 0) {\r\n        const [x, y, z]: number[] = GetEntityCoords(ped, false);\r\n        moveCamera(\r\n            {\r\n                x: x,\r\n                y: y,\r\n                z: z + 0.0,\r\n            },\r\n            distance\r\n        );\r\n        return;\r\n    }\r\n\r\n    // If its not whole body, then we need to limit the distance\r\n    if (distance > DEFAULT_MAX_DISTANCE) distance = DEFAULT_MAX_DISTANCE;\r\n\r\n    if (isBoneArray) {\r\n        const [x1, y1, z1]: number[] = GetPedBoneCoords(ped, bone[0], 0.0, 0.0, 0.0)\r\n\r\n        const [x2, y2, z2]: number[] = GetPedBoneCoords(ped, bone[1], 0.0, 0.0, 0.0)\r\n\r\n        // get the middle of the two points\r\n        var x = (x1 + x2) / 2;\r\n        var y = (y1 + y2) / 2;\r\n        var z = (z1 + z2) / 2;\r\n    } else {\r\n        var [x, y, z]: number[] = GetPedBoneCoords(ped, bone, 0.0, 0.0, 0.0)\r\n    }\r\n\r\n\tmoveCamera(\r\n\t\t{\r\n\t\t\tx: x,\r\n\t\t\ty: y,\r\n\t\t\tz: z + 0.0,\r\n\t\t},\r\n\t\tdistance\r\n\t);\r\n\r\n};\r\n\r\nRegisterNuiCallback(Receive.camMove, (data, cb) => {\r\n    setCamPosition(data.x, data.y);\r\n    cb(1);\r\n});\r\n\r\ntype TSection = 'whole' | 'head' | 'torso' | 'legs' | 'shoes';\r\n\r\nRegisterNuiCallback(Receive.camSection, (type: TSection, cb: Function) => {\r\n\tswitch (type) {\r\n        case 'whole':\r\n            setCamera('whole', WHOLE_BODY_MAX_DISTANCE);\r\n            break;\r\n        case 'head':\r\n            setCamera('head');\r\n            break;\r\n        case 'torso':\r\n            setCamera('torso');\r\n            break;\r\n        case 'legs':\r\n            setCamera('legs');\r\n            break;\r\n        case 'shoes':\r\n            setCamera('shoes');\r\n            setCamPosition();\r\n            break;\r\n\t}\r\n\tcb(1);\r\n});\r\n\r\nRegisterNuiCallback(Receive.camZoom, (data, cb) => {\r\n\tif (data === 'down') {\r\n\r\n        const maxZoom = currentBone === 'whole' ? WHOLE_BODY_MAX_DISTANCE : DEFAULT_MAX_DISTANCE;\r\n\r\n\t\tconst newDistance: number = camDistance + 0.05;\r\n\t\tcamDistance = newDistance >= maxZoom ? maxZoom : newDistance;\r\n\t} else if (data === 'up') {\r\n\t\tconst newDistance: number = camDistance - 0.05;\r\n\t\tcamDistance = newDistance <= 0.3 ? 0.3 : newDistance;\r\n\t}\r\n\r\n\tcamDistance = camDistance;\r\n\tsetCamPosition();\r\n\tcb(1);\r\n});\r\n", "export default [\n    \"Blemishes\",\n    \"FacialHair\",\n    \"Eyebrows\",\n    \"Ageing\",\n    \"Makeup\",\n    \"Blush\",\n    \"Complexion\",\n    \"SunDamage\",\n    \"Lipstick\",\n    \"MolesFreckles\",\n    \"ChestHair\",\n    \"BodyBlemishes\",\n    \"AddBodyBlemishes\",\n    \"EyeColor\"\n]\n", "export default [\n    \"Nose_Width\",\n    \"Nose_Peak_Height\",\n    \"Nose_Peak_Lenght\",\n    \"Nose_Bone_Height\",\n    \"Nose_Peak_Lowering\",\n    \"Nose_Bone_Twist\",\n    \"EyeBrown_Height\",\n    \"EyeBrown_Forward\",\n    \"Cheeks_Bone_High\",\n    \"Cheeks_Bone_Width\",\n    \"Cheeks_Width\",\n    \"Eyes_Openning\",\n    \"Lips_Thickness\",\n    \"Jaw_Bone_Width\",\n    \"Jaw_Bone_Back_Lenght\",\n    \"Chin_Bone_Lowering\",\n    \"Chin_Bone_Length\",\n    \"Chin_Bone_Width\",\n    \"Chin_Hole\",\n    \"Neck_Thikness\"\n]\n", "export default [\n    \"face\",\n    \"masks\",\n    \"hair\",\n    \"torsos\",\n    \"legs\",\n    \"bags\",\n    \"shoes\",\n    \"neck\",\n    \"shirts\",\n    \"vest\",\n    \"decals\",\n    \"jackets\"\n]\n", "export default [\n    \"hats\",\n    \"glasses\",\n    \"earrings\",\n    \"mouth\",\n    \"lhand\",\n    \"rhand\",\n    \"watches\",\n    \"bracelets\"\n]\n", "import { TAppearance, THairData, THeadOverlay, THeadOverlayTotal, TClothes, TSkin } from \"@typings/appearance\"\r\nimport HEAD_OVERLAYS from \"@data/head\"\r\nimport FACE_FEATURES from \"@data/face\"\r\nimport DRAWABLE_NAMES from \"@data/drawables\"\r\nimport PROP_NAMES from \"@data/props\"\r\nimport { ped, onServerCallback, updatePed, triggerServerCallback } from '@utils';\r\nimport { TTattoo } from \"@typings/tattoos\"\r\n\r\nexport function findModelIndex(target: number) {\r\n    const config = exports.bl_appearance\r\n    const models = config.models()\r\n\r\n    return models.findIndex((model: string) => GetHashKey(model) === target)\r\n}\r\n\r\nexport function getHairColor(pedHandle: number): THairData {\r\n    return {\r\n        color: GetPedHairColor(pedHandle),\r\n        highlight: GetPedHairHighlightColor(pedHandle)\r\n    }\r\n}\r\nexports('GetPedHairColor', getHairColor);\r\n\r\nexport function getHeadBlendData(pedHandle: number) {\r\n    // https://github.com/pedr0fontoura/fivem-appearance/blob/main/game/src/client/index.ts#L67\r\n    const buffer = new ArrayBuffer(80);\r\n    global.Citizen.invokeNative('0x2746bd9d88c5c5d0', pedHandle, new Uint32Array(buffer));\r\n\r\n    const { 0: shapeFirst, 2: shapeSecond, 4: shapeThird, 6: skinFirst, 8: skinSecond, 18: hasParent, 10: skinThird } = new Uint32Array(buffer);\r\n    const { 0: shapeMix, 2: skinMix, 4: thirdMix } = new Float32Array(buffer, 48);\r\n\r\n    /*   \r\n        0: shapeFirst,\r\n        2: shapeSecond,\r\n        4: shapeThird,\r\n        6: skinFirst,\r\n        8: skinSecond,\r\n        10: skinThird,\r\n        18: hasParent,\r\n    */\r\n    return {\r\n        shapeFirst,   // father\r\n        shapeSecond, // mother\r\n        shapeThird,\r\n\r\n        skinFirst,\r\n        skinSecond,\r\n        skinThird,\r\n\r\n        shapeMix, // resemblance\r\n\r\n        thirdMix,\r\n        skinMix,   // skinpercent\r\n\r\n        hasParent: Boolean(hasParent),\r\n    };\r\n}\r\nexports('GetPedHeadBlend', getHeadBlendData);\r\n\r\nexport function getHeadOverlay(pedHandle: number) {\r\n    let totals: THeadOverlayTotal = {};\r\n    let headData: THeadOverlay = {};\r\n\r\n    for (let i = 0; i < HEAD_OVERLAYS.length; i++) {\r\n        const overlay = HEAD_OVERLAYS[i];\r\n        totals[overlay] = GetNumHeadOverlayValues(i);\r\n\r\n        if (overlay === \"EyeColor\") {\r\n            headData[overlay] = {\r\n                id: overlay,\r\n                index: i,\r\n                overlayValue: GetPedEyeColor(pedHandle)\r\n            };\r\n        } else {\r\n            const [_, overlayValue, colourType, firstColor, secondColor, overlayOpacity] = GetPedHeadOverlayData(pedHandle, i);\r\n            headData[overlay] = {\r\n                id: overlay,\r\n                index: i,\r\n                overlayValue: overlayValue === 255 ? -1 : overlayValue,\r\n                colourType: colourType,\r\n                firstColor: firstColor,\r\n                secondColor: secondColor,\r\n                overlayOpacity: overlayOpacity\r\n            };\r\n        }\r\n    }\r\n\r\n    return [headData, totals];\r\n}\r\nexports('GetPedHeadOverlay', getHeadOverlay);\r\n\r\nexport function getHeadStructure(pedHandle: number) {\r\n    const pedModel = GetEntityModel(pedHandle)\r\n\r\n    if (pedModel !== GetHashKey(\"mp_m_freemode_01\") && pedModel !== GetHashKey(\"mp_f_freemode_01\")) return\r\n\r\n    let faceStruct = {}\r\n    for (let i = 0; i < FACE_FEATURES.length; i++) {\r\n        const overlay = FACE_FEATURES[i]\r\n        faceStruct[overlay] = {\r\n            id: overlay,\r\n            index: i,\r\n            value: GetPedFaceFeature(pedHandle, i)\r\n        }\r\n    }\r\n\r\n    return faceStruct\r\n}\r\nexports('GetPedHeadStructure', getHeadStructure);\r\n\r\nexport function getDrawables(pedHandle: number) {\r\n    let drawables = {}\r\n    let totalDrawables = {}\r\n\r\n    for (let i = 0; i < DRAWABLE_NAMES.length; i++) {\r\n        const name = DRAWABLE_NAMES[i]\r\n        const current = GetPedDrawableVariation(pedHandle, i)\r\n\r\n        totalDrawables[name] = {\r\n            id: name,\r\n            index: i,\r\n            total: GetNumberOfPedDrawableVariations(pedHandle, i),\r\n            textures: GetNumberOfPedTextureVariations(pedHandle, i, current)\r\n        }\r\n        drawables[name] = {\r\n            id: name,\r\n            index: i,\r\n            value: GetPedDrawableVariation(pedHandle, i),\r\n            texture: GetPedTextureVariation(pedHandle, i)\r\n        }\r\n    }\r\n\r\n    return [drawables, totalDrawables]\r\n}\r\nexports('GetPedDrawables', getDrawables);\r\n\r\nexport function getProps(pedHandle: number) {\r\n    let props = {}\r\n    let totalProps = {}\r\n\r\n    for (let i = 0; i < PROP_NAMES.length; i++) {\r\n        const name = PROP_NAMES[i]\r\n        const current = GetPedPropIndex(pedHandle, i)\r\n\r\n        totalProps[name] = {\r\n            id: name,\r\n            index: i,\r\n            total: GetNumberOfPedPropDrawableVariations(pedHandle, i),\r\n            textures: GetNumberOfPedPropTextureVariations(pedHandle, i, current)\r\n        }\r\n\r\n        props[name] = {\r\n            id: name,\r\n            index: i,\r\n            value: GetPedPropIndex(pedHandle, i),\r\n            texture: GetPedPropTextureIndex(pedHandle, i)\r\n        }\r\n    }\r\n\r\n    return [props, totalProps]\r\n}\r\nexports('GetPedProps', getProps);\r\n\r\nexport async function getAppearance(pedHandle: number): Promise<TAppearance> {\r\n    const [headData, totals] = getHeadOverlay(pedHandle)\r\n    const [drawables, drawTotal] = getDrawables(pedHandle)\r\n    const [props, propTotal] = getProps(pedHandle)\r\n    const model = GetEntityModel(pedHandle)\r\n    const tattoos = pedHandle == PlayerPedId() ? await getTattoos() : []\r\n\r\n    return {\r\n        modelIndex: findModelIndex(model),\r\n        model: model,\r\n        hairColor: getHairColor(pedHandle),\r\n        headBlend: getHeadBlendData(pedHandle),\r\n        headOverlay: headData as THeadOverlay,\r\n        headOverlayTotal: totals as THeadOverlayTotal,\r\n        headStructure: getHeadStructure(pedHandle),\r\n        drawables: drawables,\r\n        props: props,\r\n        drawTotal: drawTotal,\r\n        propTotal: propTotal,\r\n        tattoos: tattoos\r\n    }\r\n}\r\nexports(\"GetPedAppearance\", getAppearance)\r\nonServerCallback('bl_appearance:client:getAppearance', () => {\r\n    updatePed(PlayerPedId())\r\n    return getAppearance(ped)\r\n});\r\n\r\nexport function getPedClothes(pedHandle: number): TClothes {\r\n    const [drawables] = getDrawables(pedHandle)\r\n    const [props] = getProps(pedHandle)\r\n    const [headData] = getHeadOverlay(pedHandle)\r\n\r\n    return {\r\n        headOverlay: headData as THeadOverlay,\r\n        drawables: drawables,\r\n        props: props,\r\n    }\r\n}\r\nexports(\"GetPedClothes\", getPedClothes)\r\n\r\nexport function getPedSkin(pedHandle: number): TSkin {\r\n    return {\r\n        headBlend: getHeadBlendData(pedHandle),\r\n        headStructure: getHeadStructure(pedHandle),\r\n        hairColor: getHairColor(pedHandle),\r\n        model: GetEntityModel(pedHandle)\r\n    }\r\n}\r\nexports(\"GetPedSkin\", getPedSkin)\r\n\r\nexport function getTattooData() {\r\n    let tattooZones = []\r\n\r\n    const [TATTOO_LIST, TATTOO_CATEGORIES] = exports.bl_appearance.tattoos()\r\n    for (let i = 0; i < TATTOO_CATEGORIES.length; i++) {\r\n        const category = TATTOO_CATEGORIES[i]\r\n        const zone = category.zone\r\n        const label = category.label\r\n        const index = category.index\r\n        tattooZones[index] = {\r\n            zone: zone,\r\n            label: label,\r\n            zoneIndex: index,\r\n            dlcs: []\r\n        }\r\n\r\n        for (let j = 0; j < TATTOO_LIST.length; j++) {\r\n            const dlcData = TATTOO_LIST[j]\r\n            tattooZones[index].dlcs.push({\r\n                label: dlcData.dlc,\r\n                dlcIndex: j,\r\n                tattoos: []\r\n            })\r\n        }\r\n    }\r\n\r\n    const isFemale = GetEntityModel(ped) === GetHashKey(\"mp_f_freemode_01\")\r\n\r\n    for (let i = 0; i < TATTOO_LIST.length; i++) {\r\n        const data = TATTOO_LIST[i]\r\n        const { dlc, tattoos } = data\r\n        const dlcHash = GetHashKey(dlc)\r\n        for (let j = 0; j < tattoos.length; j++) {\r\n            const tattooData = tattoos[j]\r\n            let tattoo = null\r\n\r\n            const lowerTattoo = tattooData.toLowerCase()\r\n            const isFemaleTattoo = lowerTattoo.includes(\"_f\")\r\n            if (isFemaleTattoo && isFemale) {\r\n                tattoo = tattooData\r\n            } else if (!isFemaleTattoo && !isFemale) {\r\n                tattoo = tattooData\r\n            }\r\n\r\n            let hash = null\r\n            let zone = -1\r\n\r\n            if (tattoo) {\r\n                hash = GetHashKey(tattoo)\r\n                zone = GetPedDecorationZoneFromHashes(dlcHash, hash)\r\n            }\r\n\r\n            if (zone !== -1 && hash) {\r\n                const zoneTattoos = tattooZones[zone].dlcs[i].tattoos\r\n\r\n                zoneTattoos.push({\r\n                    label: tattoo,\r\n                    hash: hash,\r\n                    zone: zone,\r\n                    dlc: dlc,\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    return tattooZones\r\n}\r\n\r\nexport async function getTattoos(): Promise<TTattoo[]> {\r\n    return await triggerServerCallback('bl_appearance:server:getTattoos') || []\r\n}\r\nexports('GetPlayerTattoos', getTattoos);\r\n//migration\r\n\r\nonServerCallback('bl_appearance:client:migration:setAppearance', (data: {type: string, data: any}) => {\r\n    if (data.type === 'fivem') exports['fivem-appearance'].setPlayerAppearance(data.data)\r\n    if (data.type === 'illenium') exports['illenium-appearance'].setPlayerAppearance(data.data)\r\n});", "export default {\r\n    hats: {\r\n        type: \"prop\",\r\n        index: 0,\r\n    },\r\n    glasses: {\r\n        type: \"prop\",\r\n        index: 1,\r\n    },\r\n    masks: {\r\n        type: \"drawable\",\r\n        index: 1,\r\n        off: 0,\r\n    },\r\n    shirts: {\r\n        type: \"drawable\",\r\n        index: 8,\r\n        off: 15,\r\n        hook: {\r\n            drawables: [\r\n                { component: 3, variant: 15, texture: 0, id: 'torsos' },\r\n                { component: 8, variant: 15, texture: 0, id: 'shirts' }\r\n            ]\r\n        }\r\n    },\r\n    jackets: {\r\n        type: \"drawable\",\r\n        index: 11,\r\n        off: 15,\r\n        hook: {\r\n            drawables: [\r\n                { component: 3, variant: 15, texture: 0, id: 'torsos' },\r\n                { component: 11, variant: 15, texture: 0, id: 'jackets' }\r\n            ]\r\n        }\r\n    },\r\n    vest: {\r\n        type: \"drawable\",\r\n        index: 9,\r\n        off: 0,\r\n    },\r\n    legs: {\r\n        type: \"drawable\",\r\n        index: 4,\r\n        off: 18,\r\n    },\r\n    shoes: {\r\n        type: \"drawable\",\r\n        index: 6,\r\n        off: 34,\r\n    }\r\n}", "import { TAppearance, THairColor, TClothes, TSkin, TValue, THeadStructure } from \"@typings/appearance\";\r\nimport TOGGLE_INDEXES from \"@data/toggles\"\r\nimport { requestModel, ped, updatePed, isPedFreemodeModel} from '@utils';\r\nimport { TTattoo } from \"@typings/tattoos\";\r\n\r\nexport function setDrawable(pedHandle: number, data: TValue) {\r\n    if (!data) return console.warn('No data provided for setDrawable')\r\n\r\n    SetPedComponentVariation(pedHandle, data.index, data.value, data.texture, 0)\r\n    return GetNumberOfPedTextureVariations(pedHandle, data.index, data.value)\r\n}\r\nexports('SetPedDrawable', setDrawable);\r\n\r\nexport function setProp(pedHandle: number, data: TValue) {\r\n    if (!data) return console.warn('No data provided for setProp')\r\n\r\n    if (data.value === -1) {\r\n        ClearPedProp(pedHandle, data.index)\r\n        return\r\n    }\r\n\r\n    SetPedPropIndex(pedHandle, data.index, data.value, data.texture, false)\r\n    return GetNumberOfPedPropTextureVariations(pedHandle, data.index, data.value)\r\n}\r\nexports('SetPedProp', setProp);\r\n\r\nconst defMaleHash = GetHashKey(\"mp_m_freemode_01\")\r\n\r\nexport const setModel = async (pedHandle: number, data: TAppearance | TSkin | number | string): Promise<number> => {\r\n    if (data == null || data === undefined) {\r\n        console.warn('No data provided for setModel')\r\n        return pedHandle;\r\n    }\r\n\r\n    let model: number;\r\n    if (typeof data === 'string') {\r\n        model = GetHashKey(data);\r\n    } else if (typeof data === 'number') {\r\n        model = data;\r\n    } else {\r\n        model = data.model || defMaleHash;\r\n    }\r\n\r\n    if (model === 0) return pedHandle;\r\n\r\n    await requestModel(model);\r\n\r\n    const isPlayer = IsPedAPlayer(pedHandle);\r\n    if (isPlayer) {\r\n        SetPlayerModel(PlayerId(), model);\r\n        pedHandle = PlayerPedId();\r\n        updatePed(pedHandle)\r\n    } else {\r\n        SetPlayerModel(pedHandle, model);\r\n    }\r\n\r\n    SetModelAsNoLongerNeeded(model);\r\n    SetPedDefaultComponentVariation(pedHandle);\r\n\r\n    if (!isPedFreemodeModel(pedHandle)) return pedHandle;\r\n\r\n    const isJustModel = typeof data === 'string' || typeof data === 'number';\r\n    const hasHeadBlend = !isJustModel && data.headBlend && Object.keys(data.headBlend).length > 0;\r\n\r\n    if (hasHeadBlend) {\r\n        setHeadBlend(pedHandle, (data as TAppearance | TSkin).headBlend);\r\n        SetPedHeadBlendData(pedHandle, 0, 0, 0, 0, 0, 0, 0.0, 0.0, 0.0, false);\r\n    } else {\r\n        if (model === GetHashKey(\"mp_m_freemode_01\")) {\r\n            SetPedHeadBlendData(pedHandle, 0, 0, 0, 0, 0, 0, 0.0, 0.0, 0.0, false);\r\n        } else if (model === GetHashKey(\"mp_f_freemode_01\")) {\r\n            SetPedHeadBlendData(pedHandle, 45, 21, 0, 20, 15, 0, 0.3, 0.1, 0, false);\r\n        }\r\n    }\r\n\r\n    return pedHandle;\r\n};\r\nexports('SetPedModel', setModel);\r\n\r\nexport function setFaceFeature(pedHandle: number, data: TValue) {\r\n    if (!data) return console.warn('No data provided for setFaceFeature')\r\n\r\n    SetPedFaceFeature(pedHandle, data.index, data.value + 0.0)\r\n}\r\nexports('SetPedFaceFeature', setFaceFeature);\r\n\r\nexport function setFaceFeatures(pedHandle: number, data: THeadStructure) {\r\n    if (!data) return console.warn('No data provided for setFaceFeatures')\r\n        \r\n\r\n    for (const feature in data) {\r\n        const value = data[feature]\r\n        setFaceFeature(pedHandle, value)\r\n    }\r\n}\r\nexports('SetPedFaceFeatures', setFaceFeatures);\r\n\r\nconst isPositive = (val: number) => val >= 0 ? val : 0\r\n\r\nexport function setHeadBlend(pedHandle: number, data) {\r\n    if (!data) return console.warn('No data provided for setHeadBlend')\r\n\r\n    pedHandle = pedHandle || ped\r\n\r\n    if (!isPedFreemodeModel(pedHandle)) return\r\n\r\n    const shapeFirst = isPositive(data.shapeFirst)\r\n    const shapeSecond = isPositive(data.shapeSecond)\r\n    const shapeThird = isPositive(data.shapeThird)\r\n    const skinFirst = isPositive(data.skinFirst)\r\n    const skinSecond = isPositive(data.skinSecond)\r\n    const skinThird = isPositive(data.skinThird)\r\n    const shapeMix = data.shapeMix + 0.0\r\n    const skinMix = data.skinMix + 0.0\r\n    const thirdMix = data.thirdMix + 0.0\r\n    const hasParent = data.hasParent\r\n\r\n    SetPedHeadBlendData(pedHandle, shapeFirst, shapeSecond, shapeThird, skinFirst, skinSecond, skinThird, shapeMix, skinMix, thirdMix, hasParent)\r\n}\r\nexports('SetPedHeadBlend', setHeadBlend);\r\n\r\nexport function setHeadOverlay(pedHandle: number, data) {\r\n    if (!data) return console.warn('No data provided for setHeadOverlay')\r\n\r\n    const index = data.index\r\n\r\n    if (index === 13) {\r\n        SetPedEyeColor(pedHandle, data.value)\r\n        return\r\n    }\r\n\r\n    const value = data.overlayValue\r\n\r\n    /* Hair color does not have an index, only an ID so we'll check for that */\r\n    if (data.id === 'hairColor') {\r\n        SetPedHairTint(pedHandle, data.hairColor, data.hairHighlight)\r\n        return;\r\n    }\r\n\r\n    SetPedHeadOverlay(pedHandle, index, value, data.overlayOpacity + 0.0)\r\n    SetPedHeadOverlayColor(pedHandle, index, 1, data.firstColor, data.secondColor)\r\n}\r\nexports('SetPedHeadOverlay', setHeadOverlay);\r\n\r\n\r\nexport function resetToggles(data) {\r\n    const drawables = data.drawables\r\n    const props = data.props\r\n\r\n    for (const [toggleItem, toggleData] of Object.entries(TOGGLE_INDEXES)) {\r\n        const toggleType = toggleData.type\r\n        const index = toggleData.index\r\n\r\n        if (toggleType === \"drawable\" && drawables[toggleItem]) {\r\n            const currentDrawable = GetPedDrawableVariation(ped, index)\r\n            if (currentDrawable !== drawables[toggleItem].value) {\r\n                SetPedComponentVariation(ped, index, drawables[toggleItem].value, 0, 0)\r\n            }\r\n        } else if (toggleType === \"prop\" && props[toggleItem]) {\r\n            const currentProp = GetPedPropIndex(ped, index)\r\n            if (currentProp !== props[toggleItem].value) {\r\n                SetPedPropIndex(ped, index, props[toggleItem].value, 0, false)\r\n            }\r\n        }\r\n    }\r\n}\r\nexports('SetPedClothes', setPedClothes);\r\n\r\nexport function setPedClothes(pedHandle: number, data: TClothes) {\r\n    if (!data) return console.warn('No data provided for setPedClothes')\r\n\r\n    const drawables = data.drawables\r\n    const props = data.props\r\n    const headOverlay = data.headOverlay\r\n    for (const id in drawables) {\r\n        const drawable = drawables[id]\r\n        setDrawable(pedHandle, drawable)\r\n    }\r\n\r\n    for (const id in props) {\r\n        const prop = props[id]\r\n        setProp(pedHandle, prop)\r\n    }\r\n\r\n    for (const id in headOverlay) {\r\n        const overlay = headOverlay[id]\r\n        setHeadOverlay(pedHandle, overlay)\r\n    }\r\n}\r\nexports('SetPedClothes', setPedClothes);\r\n\r\nexport const setPedSkin = async (pedHandle: number, data: TSkin) => {\r\n    if (!data) return console.warn('No data provided for setPedSkin')\r\n\r\n    if (!pedHandle) return console.warn('No pedHandle provided for setPedSkin')\r\n\r\n    pedHandle = await setModel(pedHandle, data)\r\n\r\n    const headStructure = data.headStructure\r\n    const headBlend = data.headBlend\r\n\r\n    if (headBlend) setHeadBlend(pedHandle, headBlend)\r\n    \r\n    if (headStructure) setFaceFeatures(pedHandle, headStructure)\r\n}\r\nexports('SetPedSkin', setPedSkin);\r\n\r\nexport function setPedTattoos(pedHandle: number, data: TTattoo[]) {\r\n    if (!data) return console.warn('No data provided for setPedTattoos')\r\n\r\n    ClearPedDecorationsLeaveScars(pedHandle)\r\n\r\n    for (let i = 0; i < data.length; i++) {\r\n        const tattooData = data[i].tattoo\r\n        if (tattooData) {\r\n            const collection = GetHashKey(tattooData.dlc)\r\n            const tattoo = tattooData.hash\r\n            AddPedDecorationFromHashes(pedHandle, collection, tattoo)\r\n        }\r\n    }\r\n}\r\nexports('SetPedTattoos', setPedTattoos);\r\n\r\nexport function setPedHairColors(pedHandle: number, data: THairColor) {\r\n    if (!data) return console.warn('No data provided for setPedHairColors')\r\n\r\n    const color = data.color\r\n    const highlight = data.highlight\r\n    SetPedHairColor(pedHandle, color, highlight)\r\n}\r\nexports('SetPedHairColors', setPedHairColors);\r\n\r\nexport async function setPedAppearance(pedHandle: number, data: TAppearance) {\r\n    if (!data) return console.warn('No data provided for setPedAppearance')\r\n\r\n    if (IsPedAPlayer(pedHandle)) {\r\n        setPlayerPedAppearance(data)\r\n        return\r\n    }\r\n    await setPedSkin(pedHandle, data)\r\n    setPedClothes(pedHandle, data)\r\n    setPedHairColors(pedHandle, data.hairColor)\r\n    setPedTattoos(pedHandle, data.tattoos)\r\n}\r\nexports('SetPedAppearance', setPedAppearance);\r\n\r\nexport async function setPlayerPedAppearance(data: TAppearance) {\r\n    if (!data) return console.warn('No data provided for setPlayerPedAppearance')\r\n    // Since this function is usually called after scripts set their own model, we need to update the ped before we set the appearance\r\n    updatePed(PlayerPedId())\r\n    await setPedSkin(ped, data)\r\n    // We need to update the ped again after setting the skin because SetPlayerModel will set a new PlayerPedId\r\n    updatePed(PlayerPedId())\r\n    setPedClothes(ped, data)\r\n    setPedHairColors(ped, data.hairColor)\r\n    setPedTattoos(ped, data.tattoos)\r\n}\r\n\r\nexports('SetPedClothes', setPedClothes)\r\nexports('SetPedSkin', setPedSkin)\r\nexports('SetPedTattoos', setPedTattoos)\r\nexports('SetPedHairColors', setPedHairColors)", "import { Receive } from '@events';\r\nimport {\r\n\tresetToggles,\r\n\tsetDrawable,\r\n\tsetFaceFeature,\r\n\tsetHeadBlend,\r\n\tsetHeadOverlay,\r\n\tsetModel,\r\n\tsetPedClothes,\r\n\tsetPedTattoos,\r\n\tsetPlayerPedAppearance,\r\n\tsetProp,\r\n} from './appearance/setters';\r\nimport { closeMenu } from './menu';\r\nimport { TAppearance, TToggleData, TValue } from '@typings/appearance';\r\nimport { delay, getFrameworkID, triggerServerCallback, ped, updatePed } from '@utils';\r\nimport { getAppearance, getTattooData } from './appearance/getters';\r\nimport TOGGLE_INDEXES from '@data/toggles';\r\nimport { TOutfitData } from '@typings/outfits';\r\nimport { TTattoo } from '@typings/tattoos';\r\n\r\nRegisterNuiCallback(Receive.cancel, async (appearance: TAppearance, cb: Function) => {\r\n\tawait setPlayerPedAppearance(appearance);\r\n\tcloseMenu();\r\n\tcb(1);\r\n});\r\n\r\nRegisterNuiCallback(Receive.save, async (appearance: TAppearance, cb: Function) => {\r\n\tresetToggles(appearance);\r\n\r\n\tawait delay(100);\r\n\r\n\tconst newAppearance = await getAppearance(ped);\r\n\tnewAppearance.tattoos = appearance.tattoos || null\r\n\ttriggerServerCallback('bl_appearance:server:saveAppearance', getFrameworkID(), newAppearance);\r\n\r\n\tsetPedTattoos(ped, newAppearance.tattoos);\r\n\r\n\tcloseMenu();\r\n\tcb(1);\r\n});\r\n\r\nRegisterNuiCallback(Receive.setModel, async (model: string, cb: Function) => {\r\n\tconst hash = GetHashKey(model);\r\n\tif (!IsModelInCdimage(hash) || !IsModelValid(hash)) {\r\n\t\treturn cb(0);\r\n\t}\r\n\r\n\r\n\tconst newPed = await setModel(ped, hash);\r\n\r\n    updatePed(newPed)\r\n\r\n\tconst appearance = await getAppearance(ped);\r\n\r\n\tappearance.tattoos = [];\r\n\r\n\tsetPedTattoos(ped, []);\r\n\r\n\tcb(appearance);\r\n});\r\n\r\nRegisterNuiCallback(Receive.getModelTattoos, async (_: any, cb: Function) => {\r\n\tconst tattoos = getTattooData();\r\n\r\n\tcb(tattoos);\r\n});\r\n\r\nRegisterNuiCallback(Receive.setHeadStructure, async (data: TValue, cb: Function) => {\r\n\tsetFaceFeature(ped, data);\r\n\tcb(1);\r\n});\r\n\r\nRegisterNuiCallback(Receive.setHeadOverlay, async (data: TValue, cb: Function) => {\r\n\tsetHeadOverlay(ped, data);\r\n\tcb(1);\r\n});\r\n\r\nRegisterNuiCallback(Receive.setHeadBlend, async (data: TValue, cb: Function) => {\r\n\tsetHeadBlend(ped, data);\r\n\tcb(1);\r\n});\r\n\r\nRegisterNuiCallback(Receive.setTattoos, async (data: TTattoo[], cb: Function) => {\r\n\tsetPedTattoos(ped, data);\r\n\tcb(1);\r\n});\r\n\r\nRegisterNuiCallback(Receive.setProp, async (data: TValue, cb: Function) => {\r\n\tlet texture = setProp(ped, data);\r\n\tcb(texture);\r\n});\r\n\r\nRegisterNuiCallback(Receive.setDrawable, async (data: TValue, cb: Function) => {\r\n\tlet texture = setDrawable(ped, data);\r\n\tcb(texture);\r\n});\r\n\r\nRegisterNuiCallback(Receive.toggleItem, async (data: TToggleData, cb: Function) => {\r\n\tconst item = TOGGLE_INDEXES[data.item];\r\n\tif (!item) return cb(false);\r\n\r\n\tconst current = data.data;\r\n\tconst type = item.type;\r\n\tconst index = item.index;\r\n\tconst hook = item.hook;\r\n\tconst hookData = data.hookData;\r\n\r\n\tif (!current) return cb(false);\r\n\r\n\tif (type === 'prop') {\r\n\t\tconst currentProp = GetPedPropIndex(ped, index);\r\n\r\n\t\tif (currentProp === -1) {\r\n\t\t\tsetProp(ped, current);\r\n\t\t\tcb(false);\r\n\t\t\treturn;\r\n\t\t} else {\r\n\t\t\tClearPedProp(ped, index);\r\n\t\t\tcb(true);\r\n\t\t\treturn;\r\n\t\t}\r\n\t} else if (type === 'drawable') {\r\n\t\tconst currentDrawable = GetPedDrawableVariation(ped, index);\r\n\r\n\t\tif (current.value === item.off) {\r\n\t\t\tcb(false);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (current.value === currentDrawable) {\r\n\t\t\tSetPedComponentVariation(ped, index, item.off, 0, 0);\r\n\t\t\tif (hook) {\r\n\t\t\t\tfor(let i=0; i < hook.drawables?.length; i++) {\r\n\t\t\t\t\tconst hookItem = hook.drawables[i];\r\n\t\t\t\t\tSetPedComponentVariation(ped, hookItem.component, hookItem.variant, hookItem.texture, 0);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tcb(true);\r\n\t\t\treturn;\r\n\t\t} else {\r\n\t\t\tsetDrawable(ped, current);\r\n\t\t\tfor(let i=0; i < hookData?.length; i++) {\r\n\t\t\t\tsetDrawable(ped, hookData[i]);\r\n\t\t\t}\r\n\t\t\tcb(false);\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n}\r\n);\r\n\r\nRegisterNuiCallback(Receive.saveOutfit, async (data: any, cb: Function) => {\r\n\tconst result = await triggerServerCallback('bl_appearance:server:saveOutfit', data);\r\n\tcb(result);\r\n});\r\n\r\nRegisterNuiCallback(Receive.deleteOutfit, async ({id}, cb: Function) => {\r\n\tconst result = await triggerServerCallback('bl_appearance:server:deleteOutfit', id);\r\n\tcb(result);\r\n});\r\n\r\nRegisterNuiCallback(Receive.renameOutfit, async (data: any, cb: Function) => {\r\n\tconst result = await triggerServerCallback('bl_appearance:server:renameOutfit', data);\r\n\tcb(result);\r\n});\r\n\r\nRegisterNuiCallback(Receive.useOutfit, async (outfit: TOutfitData, cb: Function) => {\r\n\tsetPedClothes(ped, outfit);\r\n\tcb(1);\r\n});\r\n\r\nRegisterNuiCallback(Receive.importOutfit, async ({ id, outfitName }, cb: Function) => {\r\n\tconst frameworkdId = getFrameworkID();\r\n\tconst result = await triggerServerCallback('bl_appearance:server:importOutfit', frameworkdId, id, outfitName);\r\n\tcb(result);\r\n});\r\n\r\nRegisterNuiCallback(Receive.fetchOutfit, async ({ id }, cb: Function) => {\r\n\tconst result = await triggerServerCallback('bl_appearance:server:fetchOutfit', id);\r\n\tcb(result);\r\n});\r\n\r\nRegisterNuiCallback(Receive.itemOutfit, async (data: {outfit: TOutfitData, label: string}, cb: Function) => {\r\n\tconst result = await triggerServerCallback('bl_appearance:server:itemOutfit', data);\r\n\tcb(result);\r\n});\r\n\r\nonNet('bl_appearance:server:useOutfiItem', (outfit: TOutfitData) => {\r\n\tsetPedClothes(ped, outfit);\r\n})", "import { getFrameworkID, requestLocale, sendNUIEvent, triggerServerCallback, updatePed, ped, getPlayerData, getJobInfo, getPlayerGenderModel } from \"@utils\"\r\nimport { startCamera, stopCamera } from \"./camera\"\r\nimport type { TAppearanceZone, TMenuTypes } from \"@typings/appearance\"\r\nimport { Outfit } from \"@typings/outfits\"\r\nimport { Send } from \"@events\"\r\nimport { getAppearance, getTattooData } from \"./appearance/getters\"\r\nimport \"./handlers\"\r\nimport { setModel } from \"./appearance/setters\"\r\n\r\nconst config = exports.bl_appearance\r\nlet armour = 0\r\nlet open = false\r\n\r\nlet resolvePromise = null;\r\nlet promise = null;\r\n\r\nexport async function openMenu(zone: TAppearanceZone | TAppearanceZone['type'], creation: boolean = false) {\r\n    if (zone === null || open) {\r\n        return;\r\n    }\r\n\r\n    let pedHandle = PlayerPedId()\r\n    const configMenus = config.menus()\r\n\r\n    const isString = typeof zone === 'string'\r\n\r\n    const type = isString ? zone : zone.type\r\n\r\n    const menu = configMenus[type]\r\n    if (!menu) return\r\n\r\n    updatePed(pedHandle)\r\n\r\n    const frameworkdId = getFrameworkID()\r\n    const tabs = menu.tabs\r\n    let allowExit = creation ? false : menu.allowExit\r\n\r\n    armour = GetPedArmour(pedHandle)\r\n\r\n    let outfits = []\r\n\r\n    const hasOutfitTab = tabs.includes('outfits')\r\n    if (hasOutfitTab) outfits = await triggerServerCallback<Outfit[]>('bl_appearance:server:getOutfits', frameworkdId) as Outfit[]\r\n\r\n    let models = []\r\n\r\n    const hasHeritageTab = tabs.includes('heritage')\r\n    if (hasHeritageTab) {\r\n        models = config.models()\r\n    }\r\n\r\n    const hasTattooTab = tabs.includes('tattoos')\r\n    let tattoos\r\n    if (hasTattooTab) {\r\n        tattoos = getTattooData()\r\n    }\r\n\r\n    const blacklist = getBlacklist(zone)\r\n\r\n    if (creation) {\r\n        const model = GetHashKey(getPlayerGenderModel());\r\n        pedHandle = await setModel(pedHandle, model);\r\n        emitNet('bl_appearance:server:setroutingbucket')\r\n        promise = new Promise(resolve => {\r\n            resolvePromise = resolve;\r\n        });\r\n\r\n        updatePed(pedHandle)\r\n    }\r\n\r\n    const appearance = await getAppearance(pedHandle)\r\n\r\n    startCamera()\r\n\r\n    sendNUIEvent(Send.data, {\r\n        tabs,\r\n        appearance,\r\n        blacklist,\r\n        tattoos,\r\n        outfits,\r\n        models,\r\n        allowExit,\r\n        job: getJobInfo(),\r\n        locale: await requestLocale('locale')\r\n    })\r\n\r\n    SetNuiFocus(true, true)\r\n    sendNUIEvent(Send.visible, true)\r\n\r\n    open = true\r\n\r\n    exports.bl_appearance.hideHud(true)\r\n\r\n    if (promise) {\r\n        await promise\r\n        emitNet('bl_appearance:server:resetroutingbucket');\r\n    }\r\n\r\n    promise = null;\r\n    resolvePromise = null;\r\n    return true\r\n}\r\nexports('OpenMenu', openMenu)\r\n\r\nRegisterCommand('appearance', async (_, args: string[]) => {\r\n    const type = args[0]\r\n    if (!type) {\r\n        exports.bl_appearance.InitialCreation()\r\n    } else {\r\n        const zone = type.toLowerCase() as TMenuTypes\r\n        openMenu(zone)\r\n    }\r\n}, true)\r\n\r\n\r\nfunction getBlacklist(zone: TAppearanceZone | string) {\r\n    const {groupTypes, base} = config.blacklist()\r\n\r\n    if (typeof zone === 'string') return base\r\n\r\n    if (!groupTypes) return base\r\n\r\n    let blacklist = {...base}\r\n\r\n    const playerData = getPlayerData()\r\n\r\n\r\n    for (const type in groupTypes) {\r\n        const groups = groupTypes[type]\r\n        for (const group in groups) {\r\n\r\n            let skip: boolean = false\r\n            \r\n            if (type == 'jobs' && zone.jobs) {\r\n                skip = zone.jobs.includes(playerData.job.name)\r\n            }\r\n\r\n            if (type == 'gangs' && zone.gangs) {\r\n                skip = zone.gangs.includes(playerData.gang.name)\r\n            }\r\n\r\n            if (!skip) {\r\n                const groupBlacklist = groups[group]\r\n                blacklist = Object.assign({}, blacklist, groupBlacklist, {\r\n                  drawables: Object.assign({}, blacklist.drawables, groupBlacklist.drawables)\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    return blacklist\r\n\r\n    // return blacklist\r\n}\r\n\r\nexport function closeMenu() {\r\n    SetPedArmour(ped, armour)\r\n\r\n    stopCamera()\r\n    SetNuiFocus(false, false)\r\n    sendNUIEvent(Send.visible, false)\r\n\r\n\r\n    exports.bl_appearance.hideHud(false)\r\n\r\n    if (resolvePromise) {\r\n        resolvePromise();\r\n    }\r\n    open = false\r\n}\r\n", "\nimport { TAppearance } from \"@typings/appearance\"\nimport { setPedAppearance } from \"../appearance/setters\"\nimport { openMenu } from \"../menu\"\n\nexport function QBBridge() {\n    onNet('qb-clothing:client:loadPlayerClothing', async (appearance: TAppearance, ped: number) => {\n        await setPedAppearance(ped, appearance)\n    })\n\n    onNet('qb-clothes:client:CreateFirstCharacter', () => {\n        exports.bl_appearance.InitialCreation()\n    })\n\n    onNet('qb-clothing:client:openOutfitMenu', () => {\n        openMenu({ type: \"outfits\", coords: [0, 0, 0, 0] })  \n    })\n}", "\nimport { TAppearance } from \"@typings/appearance\"\nimport { setPedAppearance, setPlayerPedAppearance } from \"../appearance/setters\"\nimport { getFrameworkID, triggerServerCallback } from \"@utils\"\n\nexport function ESXBridge() {\n    let firstSpawn = false\n\n    on(\"esx_skin:resetFirstSpawn\", () => {\n        firstSpawn = true\n    });\n\n    on(\"esx_skin:playerRegistered\", () => {\n        if(firstSpawn)\n            exports.bl_appearance.InitialCreation()\n    });\n\n    onNet('skinchanger:loadSkin2', async (appearance: TAppearance, ped: number) => {\n        if (!appearance.model) appearance.model = GetHashKey(\"mp_m_freemode_01\");\n        await setPedAppearance(ped, appearance)\n    });\n\n    onNet('skinchanger:getSkin', async (cb: any) => {\n        const frameworkID = await getFrameworkID()\n        const appearance = await triggerServerCallback<TAppearance>('bl_appearance:server:getAppearance', frameworkID)\n        cb(appearance)\n    })\n\n    onNet('skinchanger:loadSkin', async (appearance: TAppearance, cb: any) => {\n        await setPlayerPedAppearance(appearance)\n        if (cb) cb()\n    })\n\n    onNet('esx_skin:openSaveableMenu', async (onSubmit: any) => {\n        exports.bl_appearance.InitialCreation(onSubmit)\n    })\n}", "import { TAppearance } from \"@typings/appearance\";\nimport { getAppearance, getDrawables, getProps } from \"../appearance/getters\";\nimport { setDrawable, setModel, setPedAppearance, setPedTattoos, setProp } from \"../appearance/setters\";\nimport { TTattoo } from \"@typings/tattoos\";\nimport { ped, updatePed } from \"@utils\";\n\nfunction exportHandler(name: string, cb: any) {\n    on('__cfx_export_illenium-appearance_' + name, (setCB: any) => {\n        setCB(cb);\n    })\n}\n\nexport function illeniumCompat() {\n    exportHandler('startPlayerCustomization', () => {\n        exports.bl_appearance.InitialCreation()\n    });\n\n    exportHandler('getPedModel', (ped: number) => {\n        return GetEntityModel(ped)\n    });\n\n    exportHandler('getPedComponents', (ped: number) => {\n        const drawables: any = getDrawables(ped)[0];\n        let newdrawable = [];\n        for (const id of drawables) {\n            const drawable = drawables[id];\n            newdrawable.push({\n                component_id: drawable.index,\n                drawable: drawable.value,\n                texture: drawable.texture\n            })\n        }\n    });\n\n    exportHandler('getPedProps', (ped: number) => {\n        const props: any =  getProps(ped)[0];\n        let newProps = [];\n        for (const id of props) {\n            const prop = props[id];\n            newProps.push({\n                prop_id: prop.index,\n                drawable: prop.value,\n                texture: prop.texture\n            })\n        }\n    });\n\n    exportHandler('getPedHeadBlend', (ped: number) => {\n        return console.warn('You Still cannot use this function');\n        //return getHeadBlendData(ped);\n    });\n\n    exportHandler('getPedFaceFeatures', (ped: number) => {\n        return console.warn('You Still cannot use this function');\n        //return getHeadStructure(ped);\n    });\n\n    exportHandler('getPedHeadOverlays', (ped: number) => {\n        return console.warn('You Still cannot use this function');\n        //return getHeadOverlay(ped);\n    });\n\n    exportHandler('getPedHair', (ped: number) => {\n        //return getHair(ped);\n        return console.warn('You Still cannot use this function');\n    });\n\n    exportHandler('getPedAppearance', (ped: number) => {\n        return getAppearance(ped);\n    });\n\n    exportHandler('setPlayerModel', (model: number) => {\n        updatePed(PlayerPedId())\n        setModel(ped, model);\n    });\n\n    exportHandler('setPedHeadBlend', (ped: number, blend: any) => {\n        //setHeadBlend(ped, blend);\n        return console.warn('You Still cannot use this function');\n    });\n\n    exportHandler('setPedFaceFeatures', () => {\n        return console.warn('You Still cannot use this function');\n    });\n\n    exportHandler('setPedHeadOverlays', (ped: number, overlay: any) => {\n        //setHeadOverlay(ped, overlay);\n        return console.warn('You Still cannot use this function');\n    });\n\n    exportHandler('setPedHair', async (ped: number, hair: any, tattoo: any) => {\n        //setPedHairColors(ped, hair);\n        return console.warn('You Still cannot use this function');\n    });\n\n    exportHandler('setPedEyeColor', () => {\n        return console.warn('You Still cannot use this function');\n    });\n\n    exportHandler('setPedComponent', (ped: number, drawable: any) => {\n        const newDrawable = {\n            index: drawable.component_id,\n            value: drawable.drawable,\n            texture: drawable.texture\n        }\n        setDrawable(ped, newDrawable);\n    });\n\n    exportHandler('setPedComponents', (ped: number, components: any) => {\n        for (const component of components) {\n            const newDrawable = {\n                index: component.component_id,\n                value: component.drawable,\n                texture: component.texture\n            }\n            setDrawable(ped, newDrawable);\n        }\n    });\n\n    exportHandler('setPedProp', (ped: number, prop: any) => {\n        const newProp = {\n            index: prop.prop_id,\n            value: prop.drawable,\n            texture: prop.texture\n        }\n        setProp(ped, newProp);\n    });\n\n    exportHandler('setPedProps', (ped: number, props: any) => {\n        for (const prop of props) {\n            const newProp = {\n                index: prop.prop_id,\n                value: prop.drawable,\n                texture: prop.texture\n            }\n            setProp(ped, newProp);\n        }\n    });\n\n    // exportHandler('setPlayerAppearance', (appearance: TAppearance) => {\n    //     return console.warn('Need to be implemented');\n    // });\n\n    exportHandler('setPedAppearance', (ped: number, appearance: TAppearance) => {\n        setPedAppearance(ped, appearance)\n    });\n\n    exportHandler('setPedTattoos', (ped: number, tattoos: TTattoo[]) => {\n        setPedTattoos(ped, tattoos)\n    });\n}", "import { TAppearance, TAppearanceZone } from \"@typings/appearance\"\r\nimport { openMenu } from \"./menu\"\r\nimport { setPlayerPedAppearance } from \"./appearance/setters\"\r\nimport { triggerServerCallback, getFrameworkID, Delay, bl_bridge, ped, delay, format, updatePed } from \"@utils\"\r\nimport { QBBridge } from \"./bridge/qb\"\r\nimport { ESXBridge } from \"./bridge/esx\"\r\nimport { illeniumCompat } from \"./compat/illenium\"\r\n\r\nexports('SetPlayerPedAppearance', async (appearance: TAppearance | string) => {\r\n    let resolvedAppearance: TAppearance;\r\n    \r\n    if (!appearance || typeof appearance === 'string') {\r\n        const frameworkID: string = appearance || await getFrameworkID();\r\n        resolvedAppearance = await triggerServerCallback<TAppearance>('bl_appearance:server:getAppearance', frameworkID) as TAppearance;\r\n    } else if (typeof appearance === 'object') resolvedAppearance = appearance;\r\n    \r\n    if (!resolvedAppearance) {\r\n        throw new Error('No valid appearance found');\r\n    }\r\n    \r\n    await setPlayerPedAppearance(resolvedAppearance);\r\n});\r\n\r\nexports('GetPlayerPedAppearance', async (frameworkID: string) => {\r\n    frameworkID = frameworkID || await getFrameworkID()\r\n    return await triggerServerCallback<TAppearance>('bl_appearance:server:getAppearance', frameworkID)\r\n})\r\n\r\nexports('InitialCreation', async (cb?: Function) => {\r\n    // The first argument needs to be type of TAppearanceZone meaning it needs a coords property, but in this case it's not used\r\n    await openMenu({ type: \"appearance\", coords: [0, 0, 0, 0] }, true)\r\n    if (cb) cb()\r\n})\r\n\r\non('bl_appearance:client:useZone', (zone: TAppearanceZone) => {\r\n    openMenu(zone)\r\n})\r\n\r\nonNet('bl_bridge:client:playerLoaded', async () => {\r\n    while (!bl_bridge.core().playerLoaded()) {\r\n        await Delay(100);\r\n    }\r\n    const frameworkID = await getFrameworkID()\r\n    const appearance = await triggerServerCallback<TAppearance>('bl_appearance:server:getAppearance', frameworkID)\r\n    if (!appearance) return;\r\n    await setPlayerPedAppearance(appearance)\r\n})\r\n\r\nonNet('onResourceStart', async (resource: string) => {\r\n    if (resource === GetCurrentResourceName() && bl_bridge.core().playerLoaded()) {\r\n        const frameworkID = await getFrameworkID()\r\n        const appearance = await triggerServerCallback<TAppearance>('bl_appearance:server:getAppearance', frameworkID)\r\n        if (!appearance) return;\r\n        await setPlayerPedAppearance(appearance)\r\n    }\r\n})\r\n\r\nconst frameworkName = bl_bridge.getFramework('core')\r\nconst core = format(GetConvar('bl:framework', 'qb'))\r\n\r\nif (core == 'qb' || core == 'qbx' && GetResourceState(frameworkName) == 'started') {\r\n    QBBridge();\r\n} else if (core == 'esx' && GetResourceState(frameworkName) == 'started') {\r\n    ESXBridge();\r\n}\r\n\r\nilleniumCompat();\r\n\r\nRegisterCommand('reloadskin', async () => {\r\n    const frameworkID = await getFrameworkID()\r\n    const health = GetEntityHealth(ped);\r\n    const maxhealth = GetEntityMaxHealth(ped);\r\n    const armor = GetPedArmour(ped);\r\n\r\n    const appearance = await triggerServerCallback<TAppearance>('bl_appearance:server:getAppearance', frameworkID)\r\n    if (!appearance) return;\r\n    await setPlayerPedAppearance(appearance)\r\n\r\n    SetPedMaxHealth(ped, maxhealth)\r\n    delay(1000) \r\n    SetEntityHealth(ped, health)\r\n    SetPedArmour(ped, armor)\r\n}, false)\r\n"],
  "mappings": "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",
  "names": ["delay", "ped", "x", "y", "z", "config", "ped", "ped", "ped"]
}
